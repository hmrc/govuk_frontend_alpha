!function(t){"use strict";var e=t.GOVUK||{},i=function(t){if(this.trackers=[],"undefined"!=typeof t.universalId){var i=t.universalId;delete t.universalId,this.trackers.push(new e.GoogleAnalyticsUniversalTracker(i,t))}};i.prototype.sendToTrackers=function(t,e){for(var i=0,n=this.trackers.length;i<n;i++){var a=this.trackers[i],o=a[t];"function"==typeof o&&o.apply(a,e)}},i.load=function(){e.GoogleAnalyticsUniversalTracker.load()},i.prototype.trackPageview=function(t,e,i){this.sendToTrackers("trackPageview",arguments)},i.prototype.trackEvent=function(t,e,i){this.sendToTrackers("trackEvent",arguments)},i.prototype.trackShare=function(e){this.sendToTrackers("trackSocial",[e,"share",t.location.pathname])},i.prototype.setDimension=function(t,e){this.sendToTrackers("setDimension",arguments)},i.prototype.addLinkedTrackerDomain=function(t,e,i){this.sendToTrackers("addLinkedTrackerDomain",arguments)},e.Analytics=i,t.GOVUK=e}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{};i.analyticsPlugins=i.analyticsPlugins||{},i.analyticsPlugins.downloadLinkTracker=function(t){function n(t){var n=a(t),o=n.attr("href"),r={transport:"beacon"},s=e.trim(n.text());s&&(r.label=s),i.analytics.trackEvent("Download Link Clicked",o,r)}function a(t){var i=e(t.target);return i.is("a")||(i=i.parents("a")),i}t=t||{};var o=t.selector;o&&e("body").on("click",o,n)},t.GOVUK=i}(window),function(t){"use strict";var e=t.GOVUK||{};e.analyticsPlugins=e.analyticsPlugins||{},e.analyticsPlugins.error=function(i){function n(t){return!t||!a||!!a.test(t)}i=i||{};var a=i.filenameMustMatch,o=function(t){var i=t.filename,a=i+": "+t.lineno;n(i)&&e.analytics.trackEvent("JavaScript Error",t.message,{label:a,value:1,nonInteraction:!0})};t.addEventListener?t.addEventListener("error",o,!1):t.attachEvent?t.attachEvent("onerror",o):t.onerror=o},t.GOVUK=e}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{};i.analyticsPlugins=i.analyticsPlugins||{},i.analyticsPlugins.externalLinkTracker=function(){function t(t){var a=n(t),o={transport:"beacon"},r=a.attr("href"),s=e.trim(a.text());s&&(o.label=s),i.analytics.trackEvent("External Link Clicked",r,o)}function n(t){var i=e(t.target);return i.is("a")||(i=i.parents("a")),i}var a=i.analyticsPlugins.externalLinkTracker.getHostname(),o='a[href^="http"]:not(a[href*="'+a+'"])';e("body").on("click",o,t)},i.analyticsPlugins.externalLinkTracker.getHostname=function(){return t.location.hostname},t.GOVUK=i}(window),function(t){"use strict";function e(){"function"==typeof t.ga&&t.ga.apply(t,arguments)}var i=t.jQuery,n=t.GOVUK||{},a=function(t,i){function n(){e("create",t,i)}function a(){e("set","anonymizeIp",!0)}"string"==typeof i&&(i={cookieDomain:i}),n(),a()};a.load=function(){!function(t,e,i,n,a,o,r){t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,o=e.createElement(i),r=e.getElementsByTagName(i)[0],o.async=1,o.src=n,r.parentNode.insertBefore(o,r)}(t,document,"script","https://www.google-analytics.com/analytics.js","ga")},a.prototype.trackPageview=function(t,n,a){var o;"string"==typeof t&&(o={page:t}),"string"==typeof n&&(o=o||{},o.title=n),"object"==typeof a&&(o=i.extend(o||{},a)),i.isEmptyObject(o)?e("send","pageview"):e("send","pageview",o)},a.prototype.trackEvent=function(t,i,n){n=n||{};var a,o={hitType:"event",eventCategory:t,eventAction:i};"string"==typeof n.label&&(o.eventLabel=n.label),"string"==typeof n.page&&(o.page=n.page),(n.value||0===n.value)&&(a=parseInt(n.value,10),"number"!=typeof a||isNaN(a)||(o.eventValue=a)),n.nonInteraction&&(o.nonInteraction=1),n.transport&&(o.transport=n.transport),e("send",o)},a.prototype.trackSocial=function(t,i,n){e("send",{hitType:"social",socialNetwork:t,socialAction:i,socialTarget:n})},a.prototype.addLinkedTrackerDomain=function(t,i,n){e("create",t,"auto",{name:i}),e("require","linker"),e(i+".require","linker"),e("linker:autoLink",[n]),e(i+".linker:autoLink",[n]),e(i+".set","anonymizeIp",!0),e(i+".send","pageview")},a.prototype.setDimension=function(t,i){e("set","dimension"+t,String(i))},n.GoogleAnalyticsUniversalTracker=a,t.GOVUK=n}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{};i.analyticsPlugins=i.analyticsPlugins||{},i.analyticsPlugins.mailtoLinkTracker=function(){function t(t){var a=n(t),o={transport:"beacon"},r=a.attr("href"),s=e.trim(a.text());s&&(o.label=s),i.analytics.trackEvent("Mailto Link Clicked",r,o)}function n(t){var i=e(t.target);return i.is("a")||(i=i.parents("a")),i}var a='a[href^="mailto:"]';e("body").on("click",a,t)},t.GOVUK=i}(window),function(t){"use strict";var e=t.GOVUK||{};e.analyticsPlugins=e.analyticsPlugins||{},e.analyticsPlugins.printIntent=function(){var i=function(){e.analytics.trackEvent("Print Intent",document.location.pathname),e.analytics.trackPageview("/print"+document.location.pathname)};if(t.matchMedia){var n=t.matchMedia("print"),a=0;n.addListener(function(t){t.matches||0!==a||(i(),a++,setTimeout(function(){a=0},3e3))})}t.onafterprint&&(t.onafterprint=i)},t.GOVUK=e}(window),function(t){"use strict";var e=t.GOVUK||{};e.Modules=e.Modules||{},e.Modules.AutoTrackEvent=function(){this.start=function(t){var i={nonInteraction:1},n=t.data("track-category"),a=t.data("track-action"),o=t.data("track-label"),r=t.data("track-value");"string"==typeof o&&(i.label=o),(r||0===r)&&(i.value=r),e.analytics&&e.analytics.trackEvent&&e.analytics.trackEvent(n,a,i)}},t.GOVUK=e}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{};i.Modules=i.Modules||{},i.modules={find:function(t){t=t||e("body");var i,n="[data-module]";return i=t.find(n),t.is(n)&&(i=i.add(t)),i},start:function(t){function n(t){return o(a(t))}function a(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}for(var r=this.find(t),s=0,l=r.length;s<l;s++){var c,d=e(r[s]),u=n(d.data("module")),p=d.data("module-started");"function"!=typeof i.Modules[u]||p||(c=new i.Modules[u],c.start(d),d.data("module-started",!0))}}},t.GOVUK=i}(window),function(t){"use strict";function e(t){this.$el=i(t.el),this._loadOption(t,"name"),this._loadOption(t,"customDimensionIndex",null),this._loadOption(t,"cohorts"),this._loadOption(t,"runImmediately",!0),this._loadOption(t,"defaultWeight",1),this._loadOption(t,"contentExperimentId",null),this._loadOption(t,"cookieDuration",30),this.runImmediately&&this.run()}var i=t.jQuery,n=t.GOVUK||{};e.prototype._loadOption=function(t,e,i){if(void 0!==t[e]&&(this[e]=t[e]),void 0===this[e]){if(void 0===i)throw new Error(e+" option is required for a multivariate test");this[e]=i}},e.prototype.run=function(){var t=this.getCohort();t&&(this.setUpContentExperiment(t),this.setCustomVar(t),this.executeCohort(t),this.createDummyEvent(t))},e.prototype.executeCohort=function(t){var e=this.cohorts[t];e.callback&&("string"==typeof e.callback?this[e.callback]():e.callback()),e.html&&(this.$el.html(e.html),this.$el.show())},e.prototype.getCohort=function(){var t=n.cookie(this.cookieName());return t&&this.cohorts[t]||(t=this.chooseRandomCohort(),n.cookie(this.cookieName(),t,{days:this.cookieDuration})),t},e.prototype.setCustomVar=function(t){if(this.customDimensionIndex&&this.customDimensionIndex.constructor===Array)for(var e=0;e<this.customDimensionIndex.length;e++)this.setDimension(t,this.customDimensionIndex[e]);else this.customDimensionIndex&&this.setDimension(t,this.customDimensionIndex)},e.prototype.setDimension=function(t,e){n.analytics.setDimension(e,this.cookieName()+"__"+t)},e.prototype.setUpContentExperiment=function(t){var e=this.contentExperimentId,i=this.cohorts[t].variantId;"undefined"!=typeof e&&"undefined"!=typeof i&&"function"==typeof window.ga&&(window.ga("set","expId",e),window.ga("set","expVar",i))},e.prototype.createDummyEvent=function(t){n.analytics.trackEvent(this.cookieName(),"run",{nonInteraction:!0})},e.prototype.weightedCohortNames=function(){var t=[],e=this.defaultWeight;return i.each(this.cohorts,function(i,n){var a,o;for(a="undefined"==typeof n.weight?e:n.weight,o=0;o<a;o++)t.push(i)}),t},e.prototype.chooseRandomCohort=function(){var t=this.weightedCohortNames();return t[Math.floor(Math.random()*t.length)]},e.prototype.cookieName=function(){return"multivariatetest_cohort_"+this.name},n.MultivariateTest=e,t.GOVUK=n}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{},n=function(t,i){this.$el=e(t),this.$extraLinks=this.$el.find("li:not("+i+")"),this.$extraLinks.length>1&&(this.addToggleLink(),this.hideExtraLinks())};n.prototype={toggleText:function(){return this.$extraLinks.length>1?"+"+this.$extraLinks.length+" others":"+"+this.$extraLinks.length+" other"},addToggleLink:function(){this.$toggleLink=e('<a href="#">'+this.toggleText()+"</a>"),this.$toggleLink.click(e.proxy(this.toggleLinks,this)),this.$toggleLink.insertAfter(this.$el)},toggleLinks:function(t){t.preventDefault(),this.$toggleLink.remove(),this.showExtraLinks()},hideExtraLinks:function(){this.$extraLinks.addClass("visuallyhidden"),e(window).trigger("govuk.pageSizeChanged")},showExtraLinks:function(){this.$extraLinks.removeClass("visuallyhidden"),e(window).trigger("govuk.pageSizeChanged")}},i.PrimaryList=n,i.primaryLinks={init:function(t){e(t).parent().each(function(e,n){new i.PrimaryList(n,t)})}},t.GOVUK=i}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{};i.shimLinksWithButtonRole={init:function(){e(document).on("keydown",'[role="button"]',function(t){32===t.which&&(t.preventDefault(),t.target.click())})}},t.GOVUK=i}(window),function(t){"use strict";function e(){function t(t){var e=t.replace("[","\\[").replace("]","\\]");return e}function e(){var t=i(this),e=n(t);e.length&&(t.attr("aria-controls",e.attr("id")),t.attr("aria-expanded","false"),e.attr("aria-hidden","true"))}function n(t){var e=t.attr("aria-controls");return e||(e=t.closest("label").data("target")),i("#"+e)}function a(t,e){e.hasClass("js-hidden")&&(e.removeClass("js-hidden"),e.attr("aria-hidden","false"),t.attr("aria-controls")&&t.attr("aria-expanded","true"))}function o(t,e){e=e||n(t),e.hasClass("js-hidden")||(e.addClass("js-hidden"),e.attr("aria-hidden","true"),t.attr("aria-controls")&&t.attr("aria-expanded","false"))}function r(e,n){var r=u.radio+"[name="+t(e.attr("name"))+"][aria-controls]",s=e.closest("form").find(r);s.each(function(){o(i(this))}),e.is("[aria-controls]")&&a(e,n)}function s(t,e){t.is(":checked")?a(t,e):o(t,e)}function l(t,a,o,r){function s(){var t=i(this);r(t,n(t))}t=t||i(document.body);var l=i(a);l.each(e),i.each(o,function(e,i){t.on("click."+u.namespace,i,s)}),l.is(":checked")&&l.filter(":checked").each(s)}function c(){var t=[];return i(u.radio).map(function(){var e=i(this).attr("name");return i.inArray(e,t)===-1?(t.push(e),'input[type="radio"][name="'+i(this).attr("name")+'"]'):null})}var d=this,u={namespace:"ShowHideContent",radio:'.block-label[data-target] input[type="radio"]',checkbox:'.block-label[data-target] input[type="checkbox"]'};d.showHideRadioToggledContent=function(t){l(t,u.radio,c(),r)},d.showHideCheckboxToggledContent=function(t){l(t,u.checkbox,[u.checkbox],s)},d.destroy=function(t){t=t||i(document.body),t.off("."+u.namespace)}}var i=t.jQuery,n=t.GOVUK||{};e.prototype.init=function(t){this.showHideRadioToggledContent(t),this.showHideCheckboxToggledContent(t)},n.ShowHideContent=e,t.GOVUK=n}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{},n={_hasScrolled:!1,_scrollTimeout:!1,_hasResized:!1,_resizeTimeout:!1,getWindowDimensions:function(){return{height:e(t).height(),width:e(t).width()}},getWindowPositions:function(){return{scrollTop:e(t).scrollTop()}},getElementOffset:function(t){return t.offset()},init:function(){var a=e(".js-stick-at-top-when-scrolling");a.length>0&&(n.$els=a,n._scrollTimeout===!1&&(e(t).scroll(n.onScroll),n._scrollTimeout=t.setInterval(n.checkScroll,50)),n._resizeTimeout===!1&&(e(t).resize(n.onResize),n._resizeTimeout=t.setInterval(n.checkResize,50))),i.stopScrollingAtFooter&&a.each(function(n,a){var o=e(a).find("img");if(o.length>0){var r=new t.Image;r.onload=function(){i.stopScrollingAtFooter.addEl(e(a),e(a).outerHeight())},r.src=o.attr("src")}else i.stopScrollingAtFooter.addEl(e(a),e(a).outerHeight())})},onScroll:function(){n._hasScrolled=!0},onResize:function(){n._hasResized=!0},checkScroll:function(){if(n._hasScrolled===!0){n._hasScrolled=!1;var t=n.getWindowPositions().scrollTop,i=n.getWindowDimensions();n.$els.each(function(a,o){var r=e(o),s=r.data("scrolled-from");s&&t<s?n.release(r):i.width>768&&t>=n.getElementOffset(r).top&&n.stick(r)})}},checkResize:function(){if(n._hasResized===!0){n._hasResized=!1;var t=n.getWindowDimensions();n.$els.each(function(i,a){var o=e(a),r=o.hasClass("js-sticky-resize");if(r){var s=e(".shim"),l=o.parent("div"),c=l.width();s.css("width",c),o.css("width",c)}t.width<=768&&n.release(o)})}},stick:function(t){if(!t.hasClass("content-fixed")){t.data("scrolled-from",n.getElementOffset(t).top);var e=Math.max(t.height(),1);t.before('<div class="shim" style="width: '+t.width()+"px; height: "+e+'px">&nbsp;</div>'),t.css("width",t.width()+"px").addClass("content-fixed")}},release:function(t){t.hasClass("content-fixed")&&(t.data("scrolled-from",!1),t.removeClass("content-fixed").css("width",""),t.siblings(".shim").remove())}};i.stickAtTopWhenScrolling=n,t.GOVUK=i}(window),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{},n={_pollingId:null,_isPolling:!1,_hasScrollEvt:!1,_els:[],addEl:function(i,a){var o;if(i.length){o=parseInt(i.css("top"),10),o=isNaN(o)?0:o,n.updateFooterTop(),e(t).on("govuk.pageSizeChanged",n.updateFooterTop);var r=e("<div></div>");r.insertBefore(i);var s=r.offset().top-r.position().top;r.remove();var l={$fixedEl:i,height:a+o,fixedTop:a+s,state:"fixed"};n._els.push(l),n.initTimeout()}},updateFooterTop:function(){var t=e(".js-footer:eq(0)");return 0===t.length?0:void(n.footerTop=t.offset().top-10)},initTimeout:function(){n._hasScrollEvt===!1&&(e(window).scroll(n.onScroll),n._hasScrollEvt=!0)},onScroll:function(){n._isPolling===!1&&n.startPolling()},startPolling:function(){return window.requestAnimationFrame?function(){var t=function(){n.checkScroll(),n._isPolling===!0&&n.startPolling()};n._pollingId=window.requestAnimationFrame(t),n._isPolling=!0}:function(){n._pollingId=window.setInterval(n.checkScroll,16),n._isPolling=!0}}(),stopPolling:function(){return window.requestAnimationFrame?function(){window.cancelAnimationFrame(n._pollingId),n._isPolling=!1}:function(){window.clearInterval(n._pollingId),n._isPolling=!1}}(),checkScroll:function(){var t=e(window).scrollTop();return t<n.cachedScrollTop+2&&t>n.cachedScrollTop-2?void n.stopPolling():(n.cachedScrollTop=t,void e.each(n._els,function(e,i){var a=t+i.height;a>n.footerTop?n.stick(i):n.unstick(i)}))},stick:function(t){"fixed"===t.state&&"fixed"===t.$fixedEl.css("position")&&(t.$fixedEl.css({position:"absolute",top:n.footerTop-t.fixedTop}),t.state="absolute")},unstick:function(t){"absolute"===t.state&&(t.$fixedEl.css({position:"",top:""}),t.state="fixed")}};i.stopScrollingAtFooter=n,e(t).load(function(){e(t).trigger("govuk.pageSizeChanged")}),t.GOVUK=i}(window);/**
*    The Nomensa accessible media player is a flexible multimedia solution for websites and intranets.
*    The core player consists of JavaScript wrapper responsible for generating an accessible HTML toolbar
*    for interacting with a media player of your choice. We currently provide support for YouTube (default),
*    Vimeo and JWPlayer although it should be possible to integrate the player with almost any media player on
*    the web (provided a JavaScript api for the player in question is available).
*
*    Copyright (C) 2013  Nomensa Ltd
*
*    Version 2.1.2
*
*    This program is free software: you can redistribute it and/or modify
*    it under the terms of the GNU General Public License as published by
*    the Free Software Foundation, either version 3 of the License, or
*    (at your option) any later version.
*
*    This program is distributed in the hope that it will be useful,
*    but WITHOUT ANY WARRANTY; without even the implied warranty of
*    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*    GNU General Public License for more details.
*
*    You should have received a copy of the GNU General Public License
*    along with this program.  If not, see <http://www.gnu.org/licenses/>.
**/
var swfobject=function(){function t(){if(!R){try{var t=D.getElementsByTagName("body")[0].appendChild(y("span"));t.parentNode.removeChild(t)}catch(t){return}R=!0;for(var e=_.length,i=0;i<e;i++)_[i]()}}function e(t){R?t():_[_.length]=t}function i(t){if(typeof V.addEventListener!=M)V.addEventListener("load",t,!1);else if(typeof D.addEventListener!=M)D.addEventListener("load",t,!1);else if(typeof V.attachEvent!=M)m(V,"onload",t);else if("function"==typeof V.onload){var e=V.onload;V.onload=function(){e(),t()}}else V.onload=t}function n(){j?a():o()}function a(){var t=D.getElementsByTagName("body")[0],e=y(A);e.setAttribute("type",x);var i=t.appendChild(e);if(i){var n=0;!function(){if(typeof i.GetVariable!=M){var a=i.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),z.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(n<10)return n++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,o()}()}else o()}function o(){var t=F.length;if(t>0)for(var e=0;e<t;e++){var i=F[e].id,n=F[e].callbackFn,a={success:!1,id:i};if(z.pv[0]>0){var o=g(i);if(o)if(!v(F[e].swfVersion)||z.wk&&z.wk<312)if(F[e].expressInstall&&s()){var d={};d.data=F[e].expressInstall,d.width=o.getAttribute("width")||"0",d.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(d.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(d.align=o.getAttribute("align"));for(var u={},p=o.getElementsByTagName("param"),h=p.length,f=0;f<h;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(u[p[f].getAttribute("name")]=p[f].getAttribute("value"));l(d,u,i,n)}else c(o),n&&n(a);else C(i,!0),n&&(a.success=!0,a.ref=r(i),n(a))}else if(C(i,!0),n){var y=r(i);y&&typeof y.SetVariable!=M&&(a.success=!0,a.ref=y),n(a)}}}function r(t){var e=null,i=g(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=M)e=i;else{var n=i.getElementsByTagName(A)[0];n&&(e=n)}return e}function s(){return!H&&v("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function l(t,e,i,n){H=!0,T=n||null,N={success:!1,id:i};var a=g(i);if(a){"OBJECT"==a.nodeName?(k=d(a),S=null):(k=a,S=i),t.id=$,(typeof t.width==M||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==M||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),D.title=D.title.slice(0,47)+" - Flash Player Installation";var o=z.ie&&z.win?"ActiveX":"PlugIn",r="MMredirectURL="+V.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+D.title;if(typeof e.flashvars!=M?e.flashvars+="&"+r:e.flashvars=r,z.ie&&z.win&&4!=a.readyState){var s=y("div");i+="SWFObjectNew",s.setAttribute("id",i),a.parentNode.insertBefore(s,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}u(t,e,i)}}function c(t){if(z.ie&&z.win&&4!=t.readyState){var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(d(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(d(t),t)}function d(t){var e=y("div");if(z.win&&z.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(A)[0];if(i){var n=i.childNodes;if(n)for(var a=n.length,o=0;o<a;o++)1==n[o].nodeType&&"PARAM"==n[o].nodeName||8==n[o].nodeType||e.appendChild(n[o].cloneNode(!0))}}return e}function u(t,e,i){var n,a=g(i);if(z.wk&&z.wk<312)return n;if(a)if(typeof t.id==M&&(t.id=i),z.ie&&z.win){var o="";for(var r in t)t[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?e.movie=t[r]:"styleclass"==r.toLowerCase()?o+=' class="'+t[r]+'"':"classid"!=r.toLowerCase()&&(o+=" "+r+'="'+t[r]+'"'));var s="";for(var l in e)e[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+e[l]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+s+"</object>",U[U.length]=t.id,n=g(t.id)}else{var c=y(A);c.setAttribute("type",x);for(var d in t)t[d]!=Object.prototype[d]&&("styleclass"==d.toLowerCase()?c.setAttribute("class",t[d]):"classid"!=d.toLowerCase()&&c.setAttribute(d,t[d]));for(var u in e)e[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&p(c,u,e[u]);a.parentNode.replaceChild(c,a),n=c}return n}function p(t,e,i){var n=y("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}function h(t){var e=g(t);e&&"OBJECT"==e.nodeName&&(z.ie&&z.win?(e.style.display="none",function(){4==e.readyState?f(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function f(t){var e=g(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}function g(t){var e=null;try{e=D.getElementById(t)}catch(t){}return e}function y(t){return D.createElement(t)}function m(t,e,i){t.attachEvent(e,i),G[G.length]=[t,e,i]}function v(t){var e=z.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function w(t,e,i,n){if(!z.ie||!z.mac){var a=D.getElementsByTagName("head")[0];if(a){var o=i&&"string"==typeof i?i:"screen";if(n&&(E=null,O=null),!E||O!=o){var r=y("style");r.setAttribute("type","text/css"),r.setAttribute("media",o),E=a.appendChild(r),z.ie&&z.win&&typeof D.styleSheets!=M&&D.styleSheets.length>0&&(E=D.styleSheets[D.styleSheets.length-1]),O=o}z.ie&&z.win?E&&typeof E.addRule==A&&E.addRule(t,e):E&&typeof D.createTextNode!=M&&E.appendChild(D.createTextNode(t+" {"+e+"}"))}}}function C(t,e){if(K){var i=e?"visible":"hidden";R&&g(t)?g(t).style.visibility=i:w("#"+t,"visibility:"+i)}}function b(t){var e=/[\\\"<>\.;]/,i=null!=e.exec(t);return i&&typeof encodeURIComponent!=M?encodeURIComponent(t):t}var k,S,T,N,E,O,M="undefined",A="object",P="Shockwave Flash",I="ShockwaveFlash.ShockwaveFlash",x="application/x-shockwave-flash",$="SWFObjectExprInst",L="onreadystatechange",V=window,D=document,B=navigator,j=!1,_=[n],F=[],U=[],G=[],R=!1,H=!1,K=!0,z=function(){var t=typeof D.getElementById!=M&&typeof D.getElementsByTagName!=M&&typeof D.createElement!=M,e=B.userAgent.toLowerCase(),i=B.platform.toLowerCase(),n=i?/win/.test(i):/win/.test(e),a=i?/mac/.test(i):/mac/.test(e),o=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),r=!1,s=[0,0,0],l=null;if(typeof B.plugins!=M&&typeof B.plugins[P]==A)l=B.plugins[P].description,!l||typeof B.mimeTypes!=M&&B.mimeTypes[x]&&!B.mimeTypes[x].enabledPlugin||(j=!0,r=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof V.ActiveXObject!=M)try{var c=new ActiveXObject(I);c&&(l=c.GetVariable("$version"),l&&(r=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(t){}return{w3:t,pv:s,wk:o,ie:r,win:n,mac:a}}();(function(){z.w3&&((typeof D.readyState!=M&&"complete"==D.readyState||typeof D.readyState==M&&(D.getElementsByTagName("body")[0]||D.body))&&t(),R||(typeof D.addEventListener!=M&&D.addEventListener("DOMContentLoaded",t,!1),z.ie&&z.win&&(D.attachEvent(L,function(){"complete"==D.readyState&&(D.detachEvent(L,arguments.callee),t())}),V==top&&!function(){if(!R){try{D.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t()}}()),z.wk&&!function(){if(!R)return/loaded|complete/.test(D.readyState)?void t():void setTimeout(arguments.callee,0)}(),i(t)))})(),function(){z.ie&&z.win&&window.attachEvent("onunload",function(){for(var t=G.length,e=0;e<t;e++)G[e][0].detachEvent(G[e][1],G[e][2]);for(var i=U.length,n=0;n<i;n++)h(U[n]);for(var a in z)z[a]=null;z=null;for(var o in swfobject)swfobject[o]=null;swfobject=null})}();return{registerObject:function(t,e,i,n){if(z.w3&&t&&e){var a={};a.id=t,a.swfVersion=e,a.expressInstall=i,a.callbackFn=n,F[F.length]=a,C(t,!1)}else n&&n({success:!1,id:t})},getObjectById:function(t){if(z.w3)return r(t)},embedSWF:function(t,i,n,a,o,r,c,d,p,h){var f={success:!1,id:i};z.w3&&!(z.wk&&z.wk<312)&&t&&i&&n&&a&&o?(C(i,!1),e(function(){n+="",a+="";var e={};if(p&&typeof p===A)for(var g in p)e[g]=p[g];e.data=t,e.width=n,e.height=a;var y={};if(d&&typeof d===A)for(var m in d)y[m]=d[m];if(c&&typeof c===A)for(var w in c)typeof y.flashvars!=M?y.flashvars+="&"+w+"="+c[w]:y.flashvars=w+"="+c[w];if(v(o)){var b=u(e,y,i);e.id==i&&C(i,!0),f.success=!0,f.ref=b}else{if(r&&s())return e.data=r,void l(e,y,i,h);C(i,!0)}h&&h(f)})):h&&h(f)},switchOffAutoHideShow:function(){K=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(t,e,i){return z.w3?u(t,e,i):void 0},showExpressInstall:function(t,e,i,n){z.w3&&s()&&l(t,e,i,n)},removeSWF:function(t){z.w3&&h(t)},createCSS:function(t,e,i,n){z.w3&&w(t,e,i,n)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=D.location.search||D.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return b(e);for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==t)return b(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(H){var t=g($);t&&k&&(t.parentNode.replaceChild(k,t),S&&(C(S,!0),z.ie&&z.win&&(k.style.display="block")),T&&T(N)),H=!1}}}}();!function(t){t.NOMENSA=t.NOMENSA||{};var e,i;t.NOMENSA.uaMatch=function(t){t=t.toLowerCase();var e=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},e=t.NOMENSA.uaMatch(t.navigator.userAgent),i={},e.browser&&(i[e.browser]=!0,i.version=e.version),t.NOMENSA.browser=i}(window),window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},window.NOMENSA.player.YoutubePlayer=function(t){this.config=t,this.config.playerVars={controls:0,showinfo:0,origin:window.location.protocol+"//"+window.location.hostname,rel:0}},window.NOMENSA.player.YoutubePlayer.apiLoaded=!1,window.NOMENSA.player.YoutubePlayer.prototype={getYTOptions:function(){var t=this,e={height:this.config.flashHeight,width:this.config.flashWidth,videoId:this.config.media,events:{onReady:function(e){t.$html.find("iframe").attr({id:t.config.id,role:"presentation"}),t.onPlayerReady(e)},onStateChange:function(e){t.onPlayerStateChange(e.data)}}};return e.playerVars=this.config.playerVars,this.config.repeat&&(e.playerVars.playlist=this.config.media),e},init:function(){return"undefined"!=typeof window.postMessage?function(t){var e=document.createElement("script"),i=document.getElementsByTagName("script")[0];this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions(),t.html(this.$html),window.NOMENSA.player.PlayerDaemon.addPlayer(this),window.NOMENSA.player.YoutubePlayer.apiLoaded?this.player=YT.Player("player-"+player.config.id,getOptions(player)):"undefined"==typeof window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){window.NOMENSA.player.PlayerDaemon.map(function(t){"undefined"!=typeof t.getYTOptions&&(t.player=new YT.Player("player-"+t.config.id,t.getYTOptions()))}),window.NOMENSA.player.YoutubePlayer.apiLoaded=!0},e.src="//www.youtube.com/iframe_api",i.parentNode.insertBefore(e,i))}:function(t){var e=this;this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions(),t.html(this.$html),window.NOMENSA.player.PlayerDaemon.addPlayer(this),window.NOMENSA.player.stateHandlers[this.config.id]=function(t){var i=window.NOMENSA.player.PlayerDaemon.getPlayer(e.config.id);i.onPlayerStateChange(t)},window.onYouTubePlayerReady=function(t){var i=window.NOMENSA.player.PlayerDaemon.getPlayer(t),n=document.getElementById(i.config.id);i.player=n,i.cue(),i.getPlayer().addEventListener("onStateChange","window.NOMENSA.player.stateHandlers."+e.config.id),i.onPlayerReady()}}}(),state:{ended:0,playing:1,paused:2,unstarted:-1},onPlayerReady:function(){var t,e=[];return function(i){var n=e.length;if("function"==typeof i)e.push(i);else{if(0===n)return!1;for(t=0;t<n;t++)e[t].apply(this,arguments)}}}(),onPlayerStateChange:function(t){1==t?(this.play(),this.config.buttons.toggle&&this.$html.find(".play").removeClass("play").addClass("pause").text("Pause")):this.config.repeat&&0==t&&this.play()},getFlashVars:function(){var t={controlbar:"none",file:this.config.media};return""!=this.config.image&&(t.image=this.config.image),this.config.repeat&&(t.repeat=this.config.repeat),t},getFlashParams:function(){return{allowScriptAccess:"always",wmode:"transparent"}},generateFlashPlayer:function(t){var e=this,i=this.getFlashVars(),n=this.getFlashParams(),a={id:this.config.id,name:this.config.id},o=$("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id).addClass("flashReplace").html('This content requires Macromedia Flash Player. You can <a href="http://get.adobe.com/flashplayer/">install or upgrade the Adobe Flash Player here</a>.'),r=$("<span />").addClass("video"),s=this.getURL();return setTimeout(function(){swfobject.embedSWF(s,o.attr("id"),e.config.flashWidth,e.config.flashHeight,"9.0.115",null,i,n,a,e.config.swfCallback),window.NOMENSA.browser.mozilla&&parseInt(window.NOMENSA.browser.version,10)>=2&&e.$html.find("object").attr("tabindex","-1")},0),t.append(r.append(o)),t},generateVideoPlayer:function(t){if("undefined"==typeof window.postMessage)return this.generateFlashPlayer(t);var e=$("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id),i=$("<span />").addClass("video");return t.append(i.append(e)),t},getPlayer:function(){return this.player},is_html5:!1,play:function(){this.player.playVideo(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pauseVideo(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var t=this.getCurrentTime()+this.config.playerSkip,e=this.getDuration();t>e&&(t=e),this.seek(t)},rewd:function(){var t=this.getCurrentTime()-this.config.playerSkip;t<0&&(t=0),this.seek(t)},mute:function(){var t=this.$html.find("button.mute");this.player.isMuted()?(this.player.unMute(),t.hasClass("muted")&&t.removeClass("muted")):(this.player.mute(),t.addClass("muted"))},volup:function(){var t=this.player.getVolume();t>=100?t=100:t+=this.config.volumeStep,this.player.setVolume(t),this.updateVolume(t)},voldwn:function(){var t=this.player.getVolume();t<=0?t=0:t-=this.config.volumeStep,this.player.setVolume(t),this.updateVolume(t)},getDuration:function(){return this.player.getDuration()},getCurrentTime:function(){return this.player.getCurrentTime()},getBytesLoaded:function(){return this.player.getVideoBytesLoaded()},getBytesTotal:function(){return this.player.getVideoBytesTotal()},seek:function(t){this.player.seekTo(t,!0),this.config.captionsOn&&this.captions&&(this.$html.find(".caption").remove(),this.clearCaptionTimeout(),this.setCaptionTimeout(),this.getPreviousCaption())},cue:function(){this.player.cueVideoById(this.config.media)},toggleCaptions:function(){var t=this,e=this.$html.find(".captions");e.hasClass("captions-off")?(e.removeClass("captions-off").addClass("captions-on"),t.getPreviousCaption(),t.setCaptionTimeout(),t.config.captionsOn=!0):(e.removeClass("captions-on").addClass("captions-off"),t.clearCaptionTimeout(),t.$html.find(".caption").remove(),t.config.captionsOn=!1)}},window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},window.NOMENSA.player.MediaplayerDecorator=function(t){var e=t;this.config=e.config,this.player=e.player,this.state=e.state;for(var i in e)"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(this,arguments)}}(i))},window.NOMENSA.player.MediaplayerDecorator.prototype.generatePlayerContainer=function(){var t=$("<"+this.config.playerContainer+" />").css(this.config.playerStyles).addClass("player-container");return window.NOMENSA.browser.msie&&t.addClass("player-container-ie player-container-ie-"+window.NOMENSA.browser.version.substring(0,1)),t},window.NOMENSA.player.MediaplayerDecorator.prototype.assembleHTML=function(){var t=this.generatePlayerContainer(),e=this.generateVideoPlayer(t),i=e.append(this.getControls());return i},window.NOMENSA.player.MediaplayerDecorator.prototype.getURL=function(){return[this.config.url,this.config.id].join("")},window.NOMENSA.player.MediaplayerDecorator.prototype.createButton=function(t,e){var i=[t,this.config.id].join("-"),n=$("<button />").append(e).addClass(t).attr({title:t,id:i}).addClass("ui-corner-all ui-state-default").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){$(this).addClass("ui-state-focus")}).blur(function(){$(this).removeClass("ui-state-focus")}).click(function(t){t.preventDefault()});return n},window.NOMENSA.player.MediaplayerDecorator.prototype.getFuncControls=function(){var t=this,e=$("<div>");e[0].className="player-controls";var i=[];if(t.config.buttons.toggle){var n=t.createButton("play","Play").attr({"aria-live":"assertive"}).click(function(){$(this).hasClass("play")?($(this).removeClass("play").addClass("pause").attr({title:"Pause",id:"pause-"+t.config.id}).text("Pause"),t.play()):($(this).removeClass("pause").addClass("play").attr({title:"Play",id:"play-"+t.config.id}).text("Play"),t.pause())});i.push(n)}else{var a=t.createButton("play","Play").click(function(){t.play()}),o=t.createButton("pause","Pause").click(function(){t.pause()});i.push(a),i.push(o)}if(t.config.buttons.rewind){var r=t.createButton("rewind","Rewind").click(function(){t.rewd()});i.push(r)}if(t.config.buttons.forward){var s=t.createButton("forward","Forward").click(function(){t.ffwd()});i.push(s)}if(t.config.captions){var l=t.createButton("captions","Captions").click(function(){t.toggleCaptions()}),c=1==t.config.captionsOn?"captions-on":"captions-off";l.addClass(c),i.push(l)}for(var d=0;d<i.length;d+=1)e[0].appendChild(i[d][0]);return e},window.NOMENSA.player.MediaplayerDecorator.prototype.getVolControls=function(){for(var t=this,e=$("<div>").addClass("volume-controls"),i=t.createButton("mute","Mute").click(function(){t.mute()}),n=t.createButton("vol-up",'+<span class="ui-helper-hidden-accessible"> Volume Up</span>').click(function(){t.volup()}),a=t.createButton("vol-down",'-<span class="ui-helper-hidden-accessible"> Volume Down</span>').click(function(){t.voldwn()}),o=$("<span />").attr({id:"vol-"+t.config.id,class:"vol-display"}).text("100%"),r=[i,a,n,o],s=0;s<r.length;s+=1)e[0].appendChild(r[s][0]);return e},window.NOMENSA.player.MediaplayerDecorator.prototype.getSliderBar=function(){for(var t=$("<span />").addClass("ui-helper-hidden-accessible").html("<p>The timeline slider below uses WAI ARIA. Please use the documentation for your screen reader to find out more.</p>"),e=$("<span />").addClass("current-time").attr({id:"current-"+this.config.id}).text("00:00:00"),i=this.getSlider(),n=$("<span />").addClass("duration-time").attr({id:"duration-"+this.config.id}).text("00:00:00"),a=$("<div />").addClass("timer-bar").append(t),o=[e,i,n],r=0;r<o.length;r+=1)a[0].appendChild(o[r][0]);return a},window.NOMENSA.player.MediaplayerDecorator.prototype.getSlider=function(){var t=this,e=$("<span />").attr("id","slider-"+this.config.id).slider({orientation:"horizontal",change:function(e,i){var n=i.value,a=n/100*t.getDuration();t.seek(a)}});e.find("a.ui-slider-handle").attr({role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-valuetext":"0 percent",title:"Slider Control"});var i=$("<span />").addClass("progress-bar").attr({id:"progress-bar-"+this.config.id,tabindex:"-1"}).addClass("ui-progressbar-value ui-widget-header ui-corner-left").css({width:"0%",height:"95%"}),n=$("<span />").attr({id:"loaded-bar-"+this.config.id,tabindex:"-1"}).addClass("loaded-bar ui-progressbar-value ui-widget-header ui-corner-left").css({height:"95%",width:"0%"});return e.append(i,n)},window.NOMENSA.player.MediaplayerDecorator.prototype.setSliderTimeout=function(){var t=this;void 0==t.sliderInterval&&(t.sliderInterval=setInterval(function(){t.updateSlider()},t.config.sliderTimeout))},window.NOMENSA.player.MediaplayerDecorator.prototype.clearSliderTimeout=function(){var t=this;void 0!=t.sliderInterval&&(t.sliderInterval=clearInterval(t.sliderInterval))},window.NOMENSA.player.MediaplayerDecorator.prototype.updateSlider=function(){var t="undefined"!=typeof this.duration?this.duration:this.getDuration(),e="boolean"==typeof this.duration_found&&this.duration_found,i=this.getCurrentTime(),n=0;t>0?(n=i/t*100,n=parseInt(n,10)):t=0,e||($("#duration-"+this.config.id).html(this.formatTime(parseInt(t,10))),this.duration_found=!0),$("#slider-"+this.config.id).find("a.ui-slider-handle").attr({"aria-valuenow":n,"aria-valuetext":n.toString()+" percent"}).css("left",n.toString()+"%"),$("#progress-bar-"+this.config.id).attr({"aria-valuenow":n,"aria-valuetext":n.toString()+" percent"}).css("width",n.toString()+"%"),this.updateLoaderBar(),this.updateTime(i)},window.NOMENSA.player.MediaplayerDecorator.prototype.updateLoaderBar=function(){var t=this.getBytesLoaded()/this.getBytesTotal()*100;t=parseInt(t,10),isFinite(t)||(t=0),$("#loaded-bar-"+this.config.id).attr({"aria-valuetext":t.toString()+" percent","aria-valuenow":t}).css("width",t.toString()+"%")},window.NOMENSA.player.MediaplayerDecorator.prototype.formatTime=function(t){var e=0,i=0,n=0;t>=60?(i=parseInt(t/60,10),n=t-60*i,i>=60&&(e=parseInt(i/60,10),i-=parseInt(60*e,10))):n=t;for(var a=[e,i,n],o=0;o<a.length;o+=1)a[o]=a[o]<10?"0"+a[o].toString():a[o].toString();return a.join(":")},window.NOMENSA.player.MediaplayerDecorator.prototype.updateTime=function(t){var e=this.formatTime(parseInt(t,10));this.$html.find("#current-"+this.config.id).html(e)},window.NOMENSA.player.MediaplayerDecorator.prototype.getControls=function(){var t=$("<span />").addClass("ui-corner-bottom").addClass("control-bar"),e=$("<a />").attr("href","http://www.nomensa.com?ref=logo").html("Accessible Media Player by Nomensa").addClass("logo");t.append(e);for(var i=this.getFuncControls(),n=this.getVolControls(),a=this.getSliderBar(),o=[i,n,a],r=0;r<o.length;r+=1)t[0].appendChild(o[r][0]);return t},window.NOMENSA.player.MediaplayerDecorator.prototype.updateVolume=function(t){$("#vol-"+this.config.id).text(t.toString()+"%");var e=this.$html.find("button.mute");0==t?e.addClass("muted"):e.hasClass("muted")&&e.removeClass("muted")},window.NOMENSA.player.MediaplayerDecorator.prototype.getCaptions=function(){var t=this;if(t.config.captions){$.ajax({url:t.config.captions,success:function(e){$(e).find("p").length>0&&(t.captions=$(e).find("p"))}})}},window.NOMENSA.player.MediaplayerDecorator.prototype.toggleCaptions=function(){var t=this,e=this.$html.find(".captions");e.hasClass("captions-off")?(e.removeClass("captions-off").addClass("captions-on"),t.getPreviousCaption(),t.setCaptionTimeout(),t.config.captionsOn=!0):(e.removeClass("captions-on").addClass("captions-off"),t.clearCaptionTimeout(),t.$html.find(".caption").remove(),t.config.captionsOn=!1)},window.NOMENSA.player.MediaplayerDecorator.prototype.syncCaptions=function(){var t;if(this.captions){var e=this.getCurrentTime();e=this.formatTime(parseInt(e,10)),t=this.captions.filter('[begin="'+e+'"]'),1==t.length&&this.insertCaption(t)}},window.NOMENSA.player.MediaplayerDecorator.prototype.insertCaption=function(t){if(1==this.$html.find(".caption").length)this.$html.find(".caption").text(t.text());else{var e=$("<div>").text(t.text());e[0].className="caption",this.$html.find(".video").prepend(e)}},window.NOMENSA.player.MediaplayerDecorator.prototype.getPreviousCaption=function(t){var e;void 0==t&&(t=this.getCurrentTime());var i=this.formatTime(parseInt(t,10));if(this.captions){for(e=this.captions.filter('[begin="'+i+'"]');1!=e.length&&t>0;)t--,i=this.formatTime(parseInt(t,10)),e=this.captions.filter('[begin="'+i+'"]');1==e.length&&this.insertCaption(e)}},window.NOMENSA.player.MediaplayerDecorator.prototype.destroyPlayerInstance=function(){return!1},window.NOMENSA.player.MediaplayerDecorator.prototype.destroy=function(){this.clearSliderTimeout(),this.clearCaptionTimeout(),this.destroyPlayerInstance(),this.$html.remove()},window.NOMENSA.player.MediaplayerDecorator.prototype.setCaptionTimeout=function(){var t=this;void 0==t.captionInterval&&(t.captionInterval=setInterval(function(){t.syncCaptions()},500))},window.NOMENSA.player.MediaplayerDecorator.prototype.clearCaptionTimeout=function(){void 0!=this.captionInterval&&(this.captionInterval=clearInterval(this.captionInterval))},window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},jQuery(function(t){t(window).resize(function(){t(".player-container").each(function(){t(this).width()>580?t(this).addClass("player-wide"):t(this).removeClass("player-wide")})})}),"undefined"==typeof window.postMessage&&(window.NOMENSA.player.stateHandlers={}),window.NOMENSA.player.PlayerManager=function(){var t={};this.getPlayer=function(e){return void 0!=t[e]?t[e]:null},this.addPlayer=function(e){return t[e.config.id]=e,!0},this.removePlayer=function(e){void 0!=t[e]&&(t[e].destroy(),delete t[e])},this.map=function(e){var i;for(i in t)e(t[i])}},window.NOMENSA.player.PlayerDaemon=new window.NOMENSA.player.PlayerManager;var html5_methods={play:function(){this.player.play(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pause(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var t=this.getCurrentTime()+this.config.playerSkip;this.seek(t)},rewd:function(){var t=this.getCurrentTime()-this.config.playerSkip;t<0&&(t=0),this.seek(t)},mute:function(){var t=this.$html.find("button.mute");this.player.muted?(this.player.muted=!1,t.hasClass("muted")&&t.removeClass("muted")):(this.player.muted=!0,t.addClass("muted"))},volup:function(){var t=100*this.player.volume;t<100-this.config.volumeStep?t+=this.config.volumeStep:t=100,this.player.volume=t/100,this.updateVolume(Math.round(t))},voldwn:function(){var t=100*this.player.volume;t>this.config.volumeStep?t-=this.config.volumeStep:t=0,this.player.volume=t/100,this.updateVolume(Math.round(t))},getDuration:function(){return this.player.duration},getCurrentTime:function(){return this.player.currentTime},getBytesLoaded:function(){return this.player.buffered.end(0)},getBytesTotal:function(){return this.player.duration},seek:function(t){this.player.currentTime=t},cue:function(){}};!function(t){t.fn.player=function(e,i){function n(e){this.config=o,t.extend(!0,this,d,i),this.is_html5=!1;var n=r(this);n&&this.config.useHtml5?(this.config.media=n.src,this.is_html5=!0,this.$html=this.assembleHTML5(n.container,n.mimetype),t.extend(this,html5_methods)):(this.config.media instanceof Array&&"undefined"!=typeof this.config.media.push&&(this.config.media=this.config.media[0]),this.$html=this.assembleHTML()),this.config.captions&&this.getCaptions()}var a={id:"media_player",url:window.location.protocol+"//www.youtube.com/apiplayer?enablejsapi=1&version=3&playerapiid=",media:"8LiQ-bLJaM4",repeat:!1,captions:null,captionsOn:!0,flashWidth:"100%",flashHeight:"300px",playerStyles:{height:"100%",width:"100%"},sliderTimeout:350,flashContainer:"span",playerContainer:"span",image:"",playerSkip:10,volumeStep:10,buttons:{forward:!0,rewind:!0,toggle:!0},logoURL:"http://www.nomensa.com?ref=logo",useHtml5:!0,swfCallback:null},o=t.extend(!0,{},a,e),r=function(t){var e,i,n,a,o,r,s=t.config.media;if(a=function(t){if(e=document.createElement(t.container),void 0!=e.canPlayType&&(n=e.canPlayType(t.mimetype),"maybe"==n.toLowerCase()||"probably"==n.toLowerCase()))return!0},"string"==typeof s&&(i=l(s),a(i)))return i.src=s,i;if(s instanceof Array&&"undefined"!=typeof s.push)for(o=0,r=s.length;o<r;o++)if(i=l(s[o]),a(i))return i.src=s[o],i;return!1},s=function(t){var e="",i="video";switch(t){case"mp4":e='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"m4v":e='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"ogg":e='video/ogg; codecs="theora, vorbis"';break;case"ogv":e='video/ogg; codecs="theora, vorbis"';break;case"webm":e='video/webm; codecs="vp8, vorbis"';break;case"mp3":e="audio/mpeg",i="audio"}return{mimetype:e,container:i}},l=function(t){var e=t.lastIndexOf(".");if(e!=-1){var i=t.substring(e+1),n=s(i);return n}return null},c=function(){return!!window.NOMENSA.browser.mozilla&&parseInt(window.NOMENSA.browser.version,10)>=2},d={generatePlayerContainer:function(){var e=t("<"+this.config.playerContainer+" />").css(this.config.playerStyles).addClass("player-container");return window.NOMENSA.browser.msie&&e.addClass("player-container-ie player-container-ie-"+window.NOMENSA.browser.version.substring(0,1)),e},getFlashVars:function(){var t={controlbar:"none",file:this.config.media};return""!=this.config.image&&(t.image=this.config.image),this.config.repeat&&(t.repeat=this.config.repeat),t},getFlashParams:function(){return{allowScriptAccess:"always",wmode:"transparent"}},getURL:function(){return[this.config.url,this.config.id].join("")},generateFlashPlayer:function(e){var i=this,n=this.getFlashVars(),a=this.getFlashParams(),o={id:this.config.id,name:this.config.id},r=t("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id).addClass("flashReplace").html('This content requires Macromedia Flash Player. You can <a href="http://get.adobe.com/flashplayer/">install or upgrade the Adobe Flash Player here</a>.'),s=t("<span />").addClass("video"),l=this.getURL();return setTimeout(function(){swfobject.embedSWF(l,r.attr("id"),i.config.flashWidth,i.config.flashHeight,"9.0.115",null,n,a,o,i.config.swfCallback),c()&&i.$html.find("object").attr("tabindex","-1")},0),e.append(s.append(r)),e},generateHTML5Player:function(e,i,n){var a=t("<span />");a[0].className="video";var o=t("<"+i+" />").attr({id:this.config.id,src:this.config.media,type:n}).css({width:"100%",height:"50%"});return""!=t.trim(this.config.image)&&o.attr({poster:t.trim(this.config.image)}),e.append(a.append(o))},createButton:function(e,i){var n=[e,this.config.id].join("-"),a=t("<button />").append(i).addClass(e).attr({title:e,id:n}).addClass("ui-corner-all ui-state-default").hover(function(){t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).focus(function(){t(this).addClass("ui-state-focus")}).blur(function(){t(this).removeClass("ui-state-focus")}).click(function(t){t.preventDefault()});return a},getFuncControls:function(){var e=this,i=t("<div>");i[0].className="player-controls";var n=[];if(e.config.buttons.toggle){var a=e.createButton("play","Play").attr({"aria-live":"assertive"}).click(function(){t(this).hasClass("play")?(t(this).removeClass("play").addClass("pause").attr({title:"Pause",id:"pause-"+e.config.id}).text("Pause"),e.play()):(t(this).removeClass("pause").addClass("play").attr({title:"Play",id:"play-"+e.config.id}).text("Play"),e.pause())});n.push(a)}else{var o=e.createButton("play","Play").click(function(){e.play()}),r=e.createButton("pause","Pause").click(function(){e.pause()});n.push(o),n.push(r)}if(e.config.buttons.rewind){var s=e.createButton("rewind","Rewind").click(function(){e.rewd()});n.push(s)}if(e.config.buttons.forward){var l=e.createButton("forward","Forward").click(function(){e.ffwd()});n.push(l)}if(e.config.captions){var c=e.createButton("captions","Captions").click(function(){e.toggleCaptions()}),d=1==e.config.captionsOn?"captions-on":"captions-off";c.addClass(d),n.push(c)}var u;for(u=0;u<n.length;u+=1)i[0].appendChild(n[u][0]);return i},getVolControls:function(){var e,i=this,n=t("<div>").addClass("volume-controls"),a=i.createButton("mute","Mute").click(function(){i.mute()}),o=i.createButton("vol-up",'+<span class="ui-helper-hidden-accessible"> Volume Up</span>').click(function(){i.volup()}),r=i.createButton("vol-down",'-<span class="ui-helper-hidden-accessible"> Volume Down</span>').click(function(){i.voldwn()}),s=t("<span />").attr({id:"vol-"+i.config.id,class:"vol-display"}).text("100%"),l=[a,r,o,s];for(e=0;e<l.length;e+=1)n[0].appendChild(l[e][0]);
return n},getSliderBar:function(){var e,i=t("<span />").addClass("ui-helper-hidden-accessible").html("<p>The timeline slider below uses WAI ARIA. Please use the documentation for your screen reader to find out more.</p>"),n=t("<span />").addClass("current-time").attr({id:"current-"+this.config.id}).text("00:00:00"),a=this.getSlider(),o=t("<span />").addClass("duration-time").attr({id:"duration-"+this.config.id}).text("00:00:00"),r=t("<div />").addClass("timer-bar").append(i),s=[n,a,o];for(e=0;e<s.length;e+=1)r[0].appendChild(s[e][0]);return r},getSlider:function(){var e=this,i=t("<span />").attr("id","slider-"+this.config.id).slider({orientation:"horizontal",change:function(t,i){var n=i.value,a=n/100*e.getDuration();e.seek(a)}});i.find("a.ui-slider-handle").attr({role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-valuetext":"0 percent",title:"Slider Control"});var n=t("<span />").addClass("progress-bar").attr({id:"progress-bar-"+this.config.id,tabindex:"-1"}).addClass("ui-progressbar-value ui-widget-header ui-corner-left").css({width:"0%",height:"95%"}),a=t("<span />").attr({id:"loaded-bar-"+this.config.id,tabindex:"-1"}).addClass("loaded-bar ui-progressbar-value ui-widget-header ui-corner-left").css({height:"95%",width:"0%"});return i.append(n,a)},setSliderTimeout:function(){var t=this;void 0==t.sliderInterval&&(t.sliderInterval=setInterval(function(){t.updateSlider()},t.config.sliderTimeout))},clearSliderTimeout:function(){var t=this;void 0!=t.sliderInterval&&(t.sliderInterval=clearInterval(t.sliderInterval))},updateSlider:function(){var e="undefined"!=typeof this.duration?this.duration:this.getDuration(),i="boolean"==typeof this.duration_found&&this.duration_found,n=this.getCurrentTime(),a=0;e>0?(a=n/e*100,a=parseInt(a,10)):e=0,i||(t("#duration-"+this.config.id).html(this.formatTime(parseInt(e,10))),this.duration_found=!0),t("#slider-"+this.config.id).find("a.ui-slider-handle").attr({"aria-valuenow":a,"aria-valuetext":a.toString()+" percent"}).css("left",a.toString()+"%"),t("#progress-bar-"+this.config.id).attr({"aria-valuenow":a,"aria-valuetext":a.toString()+" percent"}).css("width",a.toString()+"%"),this.updateLoaderBar(),this.updateTime(n)},updateLoaderBar:function(){var e=this.getBytesLoaded()/this.getBytesTotal()*100;e=parseInt(e,10),isFinite(e)||(e=0),t("#loaded-bar-"+this.config.id).attr({"aria-valuetext":e.toString()+" percent","aria-valuenow":e}).css("width",e.toString()+"%")},formatTime:function(t){var e=0,i=0,n=0;t>=60?(i=parseInt(t/60,10),n=t-60*i,i>=60&&(e=parseInt(i/60,10),i-=parseInt(60*e,10))):n=t;var a,o=[e,i,n];for(a=0;a<o.length;a+=1)o[a]=o[a]<10?"0"+o[a].toString():o[a].toString();return o.join(":")},updateTime:function(t){var e=this.formatTime(parseInt(t,10));this.$html.find("#current-"+this.config.id).html(e)},getControls:function(){var e=t("<span />").addClass("ui-corner-bottom").addClass("control-bar"),i=t("<a />").attr("href","http://www.nomensa.com?ref=logo").html("Accessible Media Player by Nomensa").addClass("logo");e.append(i);var n,a=this.getFuncControls(),o=this.getVolControls(),r=this.getSliderBar(),s=[a,o,r];for(n=0;n<s.length;n+=1)e[0].appendChild(s[n][0]);return e},assembleHTML:function(){var t=this.generatePlayerContainer(),e=this.generateFlashPlayer(t),i=e.append(this.getControls());return i},assembleHTML5:function(t,e){var i=this.generatePlayerContainer(),n=this.generateHTML5Player(i,t,e),a=n.append(this.getControls());return a},updateVolume:function(e){t("#vol-"+this.config.id).text(e.toString()+"%");var i=this.$html.find("button.mute");0==e?i.addClass("muted"):i.hasClass("muted")&&i.removeClass("muted")},getCaptions:function(){var e=this;if(e.config.captions){t.ajax({url:e.config.captions,success:function(i){t(i).find("p").length>0&&(e.captions=t(i).find("p"))}})}},syncCaptions:function(){var t;if(this.captions){var e=this.getCurrentTime();e=this.formatTime(parseInt(e,10)),t=this.captions.filter('[begin="'+e+'"]'),1==t.length&&this.insertCaption(t)}},insertCaption:function(e){if(1==this.$html.find(".caption").length)this.$html.find(".caption").text(e.text());else{var i=t("<div>").text(e.text());i[0].className="caption",this.$html.find(".video").prepend(i)}},getPreviousCaption:function(t){var e;void 0==t&&(t=this.getCurrentTime());var i=this.formatTime(parseInt(t,10));if(this.captions){for(e=this.captions.filter('[begin="'+i+'"]');1!=e.length&&t>0;)t--,i=this.formatTime(parseInt(t,10)),e=this.captions.filter('[begin="'+i+'"]');1==e.length&&this.insertCaption(e)}},destroyPlayerInstance:function(){return!1},destroy:function(){this.clearSliderTimeout(),this.clearCaptionTimeout(),this.destroyPlayerInstance(),this.$html.remove()},setCaptionTimeout:function(){var t=this;void 0==t.captionInterval&&(t.captionInterval=setInterval(function(){t.syncCaptions()},500))},clearCaptionTimeout:function(){void 0!=this.captionInterval&&(this.captionInterval=clearInterval(this.captionInterval))},play:function(){this.player.playVideo(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pauseVideo(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var t=this.getCurrentTime()+this.config.playerSkip;this.seek(t)},rewd:function(){var t=this.getCurrentTime()-this.config.playerSkip;t<0&&(t=0),this.seek(t)},mute:function(){var t=this.$html.find("button.mute");this.player.isMuted()?(this.player.unMute(),t.hasClass("muted")&&t.removeClass("muted")):(this.player.mute(),t.addClass("muted"))},volup:function(){var t=this.player.getVolume();t<100-this.config.volumeStep?t+=this.config.volumeStep:t=100,this.player.setVolume(t),this.updateVolume(t)},voldwn:function(){var t=this.player.getVolume();t>this.config.volumeStep?t-=this.config.volumeStep:t=0,this.player.setVolume(t),this.updateVolume(t)},getDuration:function(){return this.player.getDuration()},getCurrentTime:function(){return this.player.getCurrentTime()},getBytesLoaded:function(){return this.player.getVideoBytesLoaded()},getBytesTotal:function(){return this.player.getVideoBytesTotal()},seek:function(t){this.player.seekTo(t),this.config.captionsOn&&this.captions&&(this.$html.find(".caption").remove(),this.clearCaptionTimeout(),this.setCaptionTimeout(),this.getPreviousCaption())},cue:function(){this.player.cueVideoById(this.config.media)},toggleCaptions:function(){var t=this,e=this.$html.find(".captions");e.hasClass("captions-off")?(e.removeClass("captions-off").addClass("captions-on"),t.getPreviousCaption(),t.setCaptionTimeout(),t.config.captionsOn=!0):(e.removeClass("captions-on").addClass("captions-off"),t.clearCaptionTimeout(),t.$html.find(".caption").remove(),t.config.captionsOn=!1)}};return this.each(function(e){var i,a,r=t(this),s=function(t){t.$html.width()>580&&t.$html.addClass("player-wide"),t.is_html5&&(t.player=document.getElementById(t.config.id))};o.url.match(/^(http|https)\:\/\/www\.youtube\.com/)?(i=new window.NOMENSA.player.YoutubePlayer(o),a=new window.NOMENSA.player.MediaplayerDecorator(i),a.onPlayerReady(function(){s(a),this.getPlayer().setLoop(!0)}),a.init(r)):(a=new n(e),r.html(a.$html),s(a),window.NOMENSA.player.PlayerDaemon.addPlayer(a))})}}(jQuery),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),function(t){"use strict";var e=t.jQuery,i=t.GOVUK||{};i.performance=i.performance||{},i.performance.stageprompt=function(){var t,n,a;return a=function(t){var e=t.split(":");return e.length<=3?e:[e.shift(),e.shift(),e.join(":")]},t=function(t){var i=e("[data-journey]").attr("data-journey"),n=e("[data-journey-click]");i&&t.apply(null,a(i)),n.on("click",function(i){t.apply(null,a(e(this).data("journey-click")))})},n=function(){t(i.performance.sendGoogleAnalyticsEvent)},{setup:t,setupForGoogleAnalytics:n}}(),i.performance.sendGoogleAnalyticsEvent=function(e,i,n){t._gaq.push(["_trackEvent",e,i,n,void 0,!0])},t.GOVUK=i}(window);